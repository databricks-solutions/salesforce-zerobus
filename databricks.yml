# This bundle builds the salesforce-zerobus whl and creates a job to run the service. You can use the serverless model here or uncomment the job cluster options to use a job cluster.

bundle:
  name: salesforce-zerobus

artifacts:
  app_whl:
    type: whl
    build: uv build --wheel && rm -f dist/.gitignore
    path: .

variables:
  salesforce_objects:
    description: List of Salesforce objects to ingest
    default: not_specified
  ldp_catalog:
    description: List of Salesforce objects to ingest
    default: not_specified
  ldp_schema:
    description: List of Salesforce objects to ingest
    default: not_specified

include:
  - resources/*.yml


targets:
  dev:
    default: true
    mode: development
    # workspace:
    #   root_path: /Workspace/Users/.bundle/${bundle.name}/${bundle.target}
    variables:
      salesforce_objects: '["AccountChangeEvent", "LeadChangeEvent", "OpportunityChangeEvent", "ContactChangeEvent"]'
      ldp_catalog: <your_catalog>
      ldp_schema: <your_schema>